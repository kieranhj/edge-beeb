org &4000
write direct "a:panelblk.bin"
nolist

; title screen centre text part starts at &5d0
; panel occupies up to &140
; gives &490 (1168 dec) bytes free in 8 segments within the base &4000-&7fff range

.PanelBlock0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,192,128,0,0,0,0,0,0,0,0,64,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,128,0,0,0,0,0,0,0,0,64,192,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 68,81,162,217,179,243,99,243,179,162,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,68,243,230,0,0,0,192,128,0,0,0,0,0,0,0,0,64,192,0,0,0,217,243,136,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,81,115,243,147,243,115,230,81,162,136
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,68,179,243,102,65,115,115,243,217,204,230,204,204,217,204,230,243,179,179,130,179,162,243,162,34,0,17,67,35,168,17,67,35,168,17,67,35,168,0,17,81,243,81,115,65,115,115,243,217,204,230,204,204,217
    defb 204,230,243,179,179,130,153,243,115,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,128,162,0,0,0,0,0,0,81,64,0,0,0,136,136,204,204,65,115,115,243,217,204,230,204,204,217,204,230,243,179,179,130,204,204,68,68,0,0,0,128,162,0,0,0,0,0,0,81,64,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0

    defs &c0 ; laserframe1 here
; ytable at &4200
read "YTable.asm"
; game font at &4300
read "EG_Gamefont.asm"
; ends at &43e0
defs 32 ; until have final wave data and music, leave compiled sprites in bank
;.PlayerFrameList
;    defw PlayerSprite0 ; &255
;    defw PlayerSprite1 ; &22d
;    defw PlayerSprite2 ; &1f9
;    defw PlayerSprite3 ; &1dd
;    defw PlayerSprite4 ; &1e1
;    defw PlayerSprite5 ; &20d
;    defw PlayerSprite6 ; &22f
;    defw PlayerSprite4 ; dummy entry
;.LaserFrameList
;    defw LaserFrame0 ; &128
;    defw LaserFrame5 ; &12b
;    defw LaserFrame4 ; &12e
;    defw LaserFrame3 ; &131
;    defw LaserFrame2 ; &e9
;    defw LaserFrame1 ; &bc
;    defw LaserFrame1 ; dummy entry
;    defw LaserFrame1 ; dummy entry
; zoom scroller font at &4400
read "zsfont.asm"
defs 24 ; 3 spare letters

    defs &300 ;&6c0
.PanelBlock1
    defb 0,0
    defb 0,0,0,0,0,0,68,243,243,204,136,0,96,32,202,202,202,202,202,202,202,202,64,96,0,68,204,243,243,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,243,243,204,136,0,144,128,197,197,197,197,197,197,197,197,16,144,0,68,204,243,243,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,68,217,115,81,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,162,179,211,115,230,0,96,32,202,202,202,202,197,197,197,197,16,144,0,217,179,227,115,81,0,0,1,0,1,0,1,0,3,0,2,2,3,2,0,0,162,179,230,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,68,243,0,68,162,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,115,162,179,81,0,0,0,35,42,2,0,35,42,2,0,35,42,2,0,0,162,115,81,179,162,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,136,0,243,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,136,0,0,68,0,0,0,0,68,68,68,179,162,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,115,136,136,136,0,0,0,0,136,0,0,68,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; ends at &940
    defs &4c
; org &498c
.PrintCredits
; first clear the section of the screen used for credit lines
    ld hl,&45d0
    ld a,8
.PrnCrClrLp
    ld d,h
    ld e,l
    inc de
    ld (hl),0
    ld bc,&230-1
    ldir
    ld de,&800-&230
    add hl,de
    dec a
    jr nz,PrnCrClrLp
; now write credits
    ld hl,CreditText
    ld d,&4c ;ff
    ld c,&e0
    exx
    ld de,&45d0+&50
    exx
.PrnCreditLoop
    ld a,(hl)
    cp a,5
    jr c,PrnCrControlCode
    sub a,65
    jr c,PrnCrSpace
; now have ascii code - 65
    exx
    ld h,&4a ;fd
    add a,a
    add a,a
    add a,a
    add a,a
    jr nc,PrnCrLpNoC
    inc h
.PrnCrLpNoC
    ld l,a
; hl now has source for char
    ld b,8
.PrnCreditCharLp
    ld a,(hl)
    exx
    or a,c
    ld e,a
    ld a,(de)
    exx
    ld (de),a
    inc e
    inc l
    ld a,(hl)
    exx
    or a,c
    ld e,a
    ld a,(de)
    exx
    ld (de),a
    dec e
    inc l
    ld a,8
    add a,d
    ld d,a
    djnz PrnCreditCharLp
    ld a,&c0
    add a,d
    ld d,a
.PrnCrSpaceReturn
    inc e
    inc de
    exx
    inc hl
    jr PrnCreditLoop
.PrnCrSpace
    exx
    jr PrnCrSpaceReturn
.PrnCrControlCode
    or a
    ret z
    rrca
    rrca
    rrca ; ax32
    add a,&60
    ld c,a
    cp a,&80
    jr nz,PrnCrSkipLineInc
    exx
    ex de,hl
    ld bc,80
    add hl,bc
    ex de,hl
    exx
.PrnCrSkipLineInc
    inc hl
    jr PrnCreditLoop

; want small font to be at &4a00
read "EG_small_font.asm"
.CreditText
; have 208 bytes to pad out
;   text "0123456789012345678901234567890123456789"
    text "EDGE GRINDER      BY      COSINE SYSTEMS"
    defb 1
    text "CODING                     PAUL KOOISTRA"
    defb 3
    text "GRAPHICS             TREVOR SMILA STOREY"
    defb 2
    text "MUSIC                          TOM[JERRY"
    defb 4
;    text "RELEASED BY                   FORMAT WAR"
    text "       RELEASED  BY  FORMAT  WAR        "
    defb 0
    defs 3
; want FontMaskColour to be at &4c80
read "fntmask.asm"

    defs &300 ;&6c0
.PanelBlock2
    defb 0,0
    defb 0,68,81,162,217,179,243,99,179,147,230,0,48,32,77,77,77,77,77,77,77,77,16,48,0,217,99,115,147,243,115,230,81,162,136,0,0,0,0,0,0,68,81,162,217,179,243,99,179,147,230,0,48,32,142,142,142,142,142,142,142,142,16,48,0,217,99,115,147
    defb 243,115,230,81,162,136,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,68,230,243,115,211,68,0,0,34,34,34,34,34,34,34,34,34,34,34,34,0,0,136,227,115,230,0,204,48,96,77,77,77,77,142,142,142,142,144,48,204,0,217,179,211,68,0,0,34,34,51,0,34,34,0,34,34,34,34,0,0,0,136,227,179,243,217,136,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,217,99,115,0,48,32,217,115,147,195,195,99,179,230,16,48,0,179,243,136,243,68,0,0,35,86,168,0,35,86,168,0,35,86,168,0,0,0,136,243,68,243,115,0,48,32,217,115,147,195,195,99,179,230,16,48,0,179,147,230,0,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,162,0,0,0,0,0,0,0,0,136,136,217,115,0,48,32,195,195,195,195,195,195,195,195,16,48,0,179,230,68,68,0,0,0,0,0,0,0,0,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; player sprite 0 and 6

.ZoomScrollMsg
;    text "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
;    defb 255
    text "EDGE GRINDER   "
    text "DEVELOPED BY COSINE "
    text "FOR FORMAT WAR    "
;    text "published on cartridge by rgcd    "
    text "CODE BY PAUL   "
    text "GRAPHICS BY SMILA   "
    text "MUSIC BY TOM[JERRY    "
    text "THANKS TO ARNOLDEMU\ EXECUTIONER [ GRIM FOR ALL THE HELP ON SCREEN SPLITTING]    "
    text "GREETINGS TO TARGHAN\ SUPER SYLVESTRE\ MATTHEW VAN ROOIJEN\ NICHOLAS CAMPBELL\"
    text " JASON MACKENZIE\ FRANK GASKING\ RICHARD BAYLISS AND EVERYONE AT FORMAT WAR]     "
    defb 255
.ZoomScrollMsgEnd
    defs &6c0-ZoomScrollMsgEnd+ZoomScrollMsg
.PanelBlock3
    defb 0,0
    defb 0,0,0,0,0,0,68,243,243,99,115,204,37,96,12,12,12,12,12,12,12,12,133,37,204,179,147,243,243,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,243,243,99,115,204,26,74,12,12,12,12,12,12,12,12,144,26,204,179,147,243,243,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,68,230,243,115,211,68,0,0,130,130,130,130,130,130,130,130,130,130,130,130,0,0,136,179,230,0,217,204,37,96,12,12,12,12,12,12,12,12,144,26,204,230,0,217,115,68,0,0,130,130,65,0,0,130,65,130,130,130,195,130,0,0,136,227
    defb 179,243,217,136,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,217,204,243,211,204,15,74,179,162,0,0,0,0,81,115,133,15,204,243,230,68,179,68,0,0,189,23,19,42,189,23,19,42,189,23,19,42,0,0,136,115,136,217,243,204,15,74,179,162,0,0,0,0,81,115,133,15,204,227,243,204,230,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,0,0,0,68,162,162,243,230,230,68,68,179,204,15,74,134,134,134,134,73,73,73,73,133,15,204,115,136,136,217,217,243,81,81,136,0,0,0,162,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; player sprite 1, laser frame 3&4
    defs &6c0
.PanelBlock4
    defb 0,0
    defb 0,0,0,0,0,68,217,243,179,195,115,204,15,74,134,134,134,134,134,134,134,134,133,15,204,179,195,115,243,230,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,217,243,179,99,115,204,15,74,73,73,73,73,73,73,73,73,133,15,204,179,195,115,243,230,136,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,68,217,211,68,0,0,34,34,34,34,34,34,34,34,34,34,34,34,0,0,136,243,136,217,243,204,15,74,134,134,134,134,73,73,73,73,133,15,204,243,230,68,243,68,0,0,34,34,17,0,17,0,0,34,51,34,0,34,0,0,136,227,230,136,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,68,81,162,217,179,99,195,211,204,37,96,115,0,138,197,202,69,0,179,133,37,204,230,0,217,179,68,0,0,189,23,3,42,189,23,3,42,189,23,3,42,0,0,136,115,230,0,217,204,26,74,115,0,138,197,202,69,0,179,144,26,204,227,195,147,115,230,81,162,136,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,243,115,51,195,198,102,99,198,230,136,136,227,204,37,96,12,12,12,12,12,12,12,12,144,26,204,211,68,68,217,201,147,153,201,195,51,179,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; player sprite 5, laser frame 0&5
    defs &6c0
.PanelBlock5
    defb 0,0
    defb 0,136,243,68,243,115,179,211,99,147,230,0,48,32,195,195,195,195,195,195,195,195,16,48,0,217,99,147,227,115,179,243,136,243,68,0,0,0,0,0,0,136,243,68,243,115,179,211,99,147,230,0,48,32,195,195,195,195,195,195,195,195,16,48,0
    defb 217,99,147,227,115,179,243,136,243,68,0
    defb 0,0
    defb 0,0
    defb 68,81,162,217,179,243,99,211,211,68,0,0,3,2,3,2,3,2,3,2,3,2,3,2,0,0,136,243,68,243,115,0,48,32,195,195,195,195,195,195,195,195,16,48,0,179,243,136,243,68,0,0,3,2,3,2,3,2,3,2,0,2,3,2,0,0,136,227,227,147,243,115,230,81,162,136
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,217,204,243,211,0,48,32,130,128,8,12,12,4,64,65,16,48,0,227,102,68,243,68,0,0,35,86,168,0,35,86,168,0,35,86,168,0,0,0,136,243,136,153,211,0,48,32,130,128,8,12,12,4,64,65,16,48,0,227,243,204,230,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,162,162,243,230,230,68,0,179,204,48,96,142,142,142,142,77,77,77,77,144,48,204,115,0,136,217,217,243,81,81,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; player sprite 2&4
    defs &6c0
.PanelBlock6
    defb 0,0
    defb 0,0,0,0,0,68,204,217,243,179,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,243,243,230,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,217,243,243,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,115,243,230,204,136,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,68,243,243,115,81,0,0,84,0,84,0,84,0,84,0,84,0,84,0,0,0,162,230,81,179,162,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,115,162,217,81,0,0,84,0,252,168,252,168,252,168,0,168,252,168,0,0,162,179,243,243,136,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,68,243,99,115,0,96,32,34,8,130,73,134,4,4,17,64,96,0,243,230,136,179,81,0,0,0,35,42,2,0,35,42,2,0,35,42,2,0,0,162,115,68,217,243,0,144,128,34,8,8,73,134,65,4,17,16,144,0,179,147,243,136,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,243,0,96,32,197,197,197,197,202,202,202,202,16,144,0,243,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; player sprite 3
    defs &6c0
.PanelBlock7
    defb 0,0
    defb 0,0,0,0,0,0,0,68,243,102,65,147,179,243,115,243,217,204,204,230,243,179,243,115,99,130,217,147,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,99,230,65,147,179,243,115,243,217,204,204,230,243,179,243,115,99,130,153,243,136,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,217,115,179,162,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,81,162,204,204,65,147,179,243,115,243,217,204,204,230,243,179,243,115,99,130,204,204,81,162,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,81,115,179,230,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,68,243,243,0,192,128,162,130,130,195,195,65,65,81,64,192,0,68,136,0,243,162,34,0,17,67,35,168,17,67,35,168,17,67,35,168,0,17,81,243,0,68,136,0,192,128,162,130,130,195,195,65,65,81,64,192,0,243,243,136,0,0,0,0,0,0,0,0
    defb 0,0
    defb 0,0
    defb 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,128,0,0,0,0,0,0,0,0,64,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    defb 0,0
; laser frame 2
    defs &6c0
